# Download all the BUFR grib data from website
#
set(bufr_files_to_download
   aaen_55.bufr
   aben_55.bufr
   ahws_139.bufr
   airc_142.bufr
   airc_144.bufr
   airs_57.bufr
   alws_139.bufr
   amda_144.bufr
   amsa_55.bufr
   amsb_55.bufr
   amse_55.bufr
   amsu_55.bufr
   amv2_87.bufr
   amv3_87.bufr
   asbh_139.bufr
   asbl_139.bufr
   asca_139.bufr
   asch_139.bufr
   ascs_139.bufr
   aseh_139.bufr
   asel_139.bufr
   ashs_139.bufr
   atap_55.bufr
   ateu_155.bufr
   atms_201.bufr
   atov_55.bufr
   avhm_87.bufr
   avhn_87.bufr
   avhr_58.bufr
   b002_95.bufr
   b002_96.bufr
   b003_56.bufr
   b004_145.bufr
   b005_87.bufr
   b005_89.bufr
   b006_96.bufr
   b007_31.bufr
   bssh_170.bufr
   bssh_176.bufr
   bssh_178.bufr
   bssh_180.bufr
   btem_109.bufr
   buoy_27.bufr
   cmwi_87.bufr
   cmwn_87.bufr
   cnow_28.bufr
   cori_156.bufr
   crit_202.bufr
   csrh_189.bufr
   emsg_189.bufr
   emsg_87.bufr
   euwv_87.bufr
   fy3a_154.bufr
   fy3b_154.bufr
   g2nd_208.bufr
   g2to_206.bufr
   go15_87.bufr
   goee_87.bufr
   goes_87.bufr
   goga_89.bufr
   gosat.bufr
   grst_26.bufr
   gsd1_208.bufr
   gsd2_208.bufr
   gsd3_208.bufr
   gst4_26.bufr
   hirb_55.bufr
   hirs_55.bufr
   ias1_240.bufr
   iasi_241.bufr
   ifco_208.bufr
   ikco_217.bufr
   itrg_208.bufr
   itwt_233.bufr
   j2eo_216.bufr
   j2nb_216.bufr
   jaso_214.bufr
   kond_209.bufr
   maer_207.bufr
   meta_140.bufr
   mhen_55.bufr
   mhsa_55.bufr
   mhsb_55.bufr
   mhse_55.bufr
   mloz_206.bufr
   modi_87.bufr
   modw_87.bufr
   monw_87.bufr
   nomi_206.bufr
   nos1_208.bufr
   nos2_208.bufr
   nos3_208.bufr
   nos4_208.bufr
   nos5_208.bufr
   nos6_208.bufr
   nos7_208.bufr
   nos8_208.bufr
   ocea_131.bufr
   ocea_132.bufr
   ocea_133.bufr
   ocea_21.bufr
   pgps_110.bufr
   pilo_91.bufr
   rada_250.bufr
   rado_250.bufr
   s4kn_165.bufr
   sb19_206.bufr
   sbu8_206.bufr
   ship_11.bufr
   ship_12.bufr
   ship_13.bufr
   ship_14.bufr
   ship_19.bufr
   ship_9.bufr
   smin_49.bufr
   smis_49.bufr
   smiu_49.bufr
   smos_203.bufr
   sn4k_165.bufr
   soil_7.bufr
   ssbt_127.bufr
   stuk_7.bufr
   syno_1.bufr
   syno_2.bufr
   syno_3.bufr
   syno_4.bufr
   temp_101.bufr
   temp_102.bufr
   temp_106.bufr
   tmr7_129.bufr
   tros_31.bufr
   wavb_134.bufr
)

set(bufr_refs_to_download
   aaen_55.bufr.num.ref
   aben_55.bufr.num.ref
   ahws_139.bufr.num.ref
   airc_142.bufr.num.ref
   airc_144.bufr.num.ref
   airs_57.bufr.num.ref
   alws_139.bufr.num.ref
   amda_144.bufr.num.ref
   amsa_55.bufr.num.ref
   amsb_55.bufr.num.ref
   amse_55.bufr.num.ref
   amsu_55.bufr.num.ref
   amv2_87.bufr.num.ref
   amv3_87.bufr.num.ref
   asbh_139.bufr.num.ref
   asbl_139.bufr.num.ref
   asca_139.bufr.num.ref
   asch_139.bufr.num.ref
   ascs_139.bufr.num.ref
   aseh_139.bufr.num.ref
   asel_139.bufr.num.ref
   ashs_139.bufr.num.ref
   atap_55.bufr.num.ref
   ateu_155.bufr.num.ref
   atms_201.bufr.num.ref
   atov_55.bufr.num.ref
   avhm_87.bufr.num.ref
   avhn_87.bufr.num.ref
   avhr_58.bufr.num.ref
   b002_95.bufr.num.ref
   b002_96.bufr.num.ref
   b003_56.bufr.num.ref
   b004_145.bufr.num.ref
   b005_87.bufr.num.ref
   b005_89.bufr.num.ref
   b006_96.bufr.num.ref
   b007_31.bufr.num.ref
   bssh_170.bufr.num.ref
   bssh_176.bufr.num.ref
   bssh_178.bufr.num.ref
   bssh_180.bufr.num.ref
   btem_109.bufr.num.ref
   buoy_27.bufr.num.ref
   cmwi_87.bufr.num.ref
   cmwn_87.bufr.num.ref
   cnow_28.bufr.num.ref
   cori_156.bufr.num.ref
   crit_202.bufr.num.ref
   csrh_189.bufr.num.ref
   emsg_189.bufr.num.ref
   emsg_87.bufr.num.ref
   euwv_87.bufr.num.ref
   fy3a_154.bufr.num.ref
   fy3b_154.bufr.num.ref
   g2nd_208.bufr.num.ref
   g2to_206.bufr.num.ref
   go15_87.bufr.num.ref
   goee_87.bufr.num.ref
   goes_87.bufr.num.ref
   goga_89.bufr.num.ref
   gosat.bufr.num.ref
   grst_26.bufr.num.ref
   gsd1_208.bufr.num.ref
   gsd2_208.bufr.num.ref
   gsd3_208.bufr.num.ref
   gst4_26.bufr.num.ref
   hirb_55.bufr.num.ref
   hirs_55.bufr.num.ref
   ias1_240.bufr.num.ref
   iasi_241.bufr.num.ref
   ifco_208.bufr.num.ref
   ikco_217.bufr.num.ref
   itrg_208.bufr.num.ref
   itwt_233.bufr.num.ref
   j2eo_216.bufr.num.ref
   j2nb_216.bufr.num.ref
   jaso_214.bufr.num.ref
   kond_209.bufr.num.ref
   maer_207.bufr.num.ref
   meta_140.bufr.num.ref
   mhen_55.bufr.num.ref
   mhsa_55.bufr.num.ref
   mhsb_55.bufr.num.ref
   mhse_55.bufr.num.ref
   mloz_206.bufr.num.ref
   modi_87.bufr.num.ref
   modw_87.bufr.num.ref
   monw_87.bufr.num.ref
   nomi_206.bufr.num.ref
   nos1_208.bufr.num.ref
   nos2_208.bufr.num.ref
   nos3_208.bufr.num.ref
   nos4_208.bufr.num.ref
   nos5_208.bufr.num.ref
   nos6_208.bufr.num.ref
   nos7_208.bufr.num.ref
   nos8_208.bufr.num.ref
   ocea_131.bufr.num.ref
   ocea_132.bufr.num.ref
   ocea_133.bufr.num.ref
   ocea_21.bufr.num.ref
   pgps_110.bufr.num.ref
   pilo_91.bufr.num.ref
   rada_250.bufr.num.ref
   rado_250.bufr.num.ref
   s4kn_165.bufr.num.ref
   sb19_206.bufr.num.ref
   sbu8_206.bufr.num.ref
   ship_11.bufr.num.ref
   ship_12.bufr.num.ref
   ship_13.bufr.num.ref
   ship_14.bufr.num.ref
   ship_19.bufr.num.ref
   ship_9.bufr.num.ref
   smin_49.bufr.num.ref
   smis_49.bufr.num.ref
   smiu_49.bufr.num.ref
   smos_203.bufr.num.ref
   sn4k_165.bufr.num.ref
   soil_7.bufr.num.ref
   ssbt_127.bufr.num.ref
   stuk_7.bufr.num.ref
   syno_1.bufr.num.ref
   syno_2.bufr.num.ref
   syno_3.bufr.num.ref
   syno_4.bufr.num.ref
   temp_101.bufr.num.ref
   temp_102.bufr.num.ref
   temp_106.bufr.num.ref
   tmr7_129.bufr.num.ref
   tros_31.bufr.num.ref
   wavb_134.bufr.num.ref
)

foreach( f ${bufr_files_to_download} ${bufr_refs_to_download} )
  set(tgt bufr_data_${f})
  # Download the file and create a dummy target for it
  ecbuild_get_test_data(TARGET "${tgt}"
                        NAME   "${f}"
                        DIRNAME ${PROJECT_NAME}/data/bufr
                        NOCHECK)
  
  # Add to list of targets
  LIST(APPEND tgts "${tgt}")
endforeach()

add_custom_target( get_bufrs DEPENDS ${tgts} )

